/*
Converting time in (Hr-Min-Sec) to seconds 
Write a function called hms_to_secs() that takes three int
values for hours, minutes, 
and secondsâ€”as arguments, and returns the equivalent time in
seconds (type long). 
    Function prototypes is given below: 
    long hms_to_secs(int hrs, int mins, int secs);
*/
#include <stdio.h>
struct h_m_s{
    int hrs;
    int mins;
    int secs;
};
long hms_to_secs(int hrs, int mins, int secs){
    return((long)(hrs*3600L)+(long)(mins*60L)+((long)(secs)));
}

/*
Computing x to the power y (xy) 
Write a function that takes two integers (x and y) as input,
and computes x to the power y and returns the result. No bui-in
library functions for computing power may be used. 
    Use loops instead. Function prototypes is given below: 
    long x_pwr_y(int x, int y);
*/
long x_pwr_y(int x, int y){
    if(x==0){
        return(x);
    }
    else if(y==0){
        return(1);
        }
        else{
            long result=1;
            for(int i=0; i<y; i++){
                result=result*x;
            }
            return(result);
        }
}

int odd_sum(int start, int end){
    long o_sum=0;
    for(int i=start; i<=end; i++){
        if(i%2!=0){
            o_sum=o_sum+i;
        }
    }
    return(o_sum);
}
//main function
int main() {
    // Write C code here
    struct h_m_s hmss = {10,10,10};
    long pwrr=x_pwr_y(2,3);
    printf("%ld \n", pwrr);
    long seconds=hms_to_secs(hmss.hrs, hmss.mins, hmss.secs); 
    printf("%ld \n", seconds);
    int start=2;
    int end=86;
    long sum_odd_numbers=0;
    sum_odd_numbers=odd_sum(start,end);    
    printf("%ld \n", sum_odd_numbers);
    return 0;
}

/*
Calculate number of days since the Independence Day 
    Write a function num_indep_days() which computes the number of days elapsed 
    since 14th August 1947 to the date provided as input to the function. Remember that 
    February of each leap year has 29 days!
The function prototype is given below: 
    int num_indep_days(int day, int month, int year); 
*/

#include <stdio.h>

int isLEAPYEAR(int year){
    return ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0));
}

int num_indep_days(int day, int month, int year){
    const int BASE_YEAR = 1947;
    const int BASE_MONTH = 8; // August
    const int BASE_DAY = 14;  // 14th Aug
    int total_days = 0;

    const int mDAYS[12] = {31,28,31,30,31,30,31,31,30,31,30,31};

    // If the year is after 1947, count full years
    for(int y = BASE_YEAR; y < year; y++){
        total_days += 365;
        if(isLEAPYEAR(y))
            total_days += 1;
    }

    // Count months in the current year
    for(int m = 1; m < month; m++){
        total_days += mDAYS[m-1];
        if(m == 2 && isLEAPYEAR(year))
            total_days += 1;
    }

    // Add days in the current month
    total_days += day;

    // Subtract days before 14-Aug-1947
    int days_before_base = 0;

    // Add days in months before August 1947
    for(int m = 1; m < BASE_MONTH; m++)
        days_before_base += mDAYS[m-1];

    // Add days before 14th August 1947
    days_before_base += (BASE_DAY - 1);

    total_days -= days_before_base;

    return total_days;
}

int main(){
    int days = num_indep_days(12, 9, 1948);
    printf("Days since 14-Aug-1947: %d\n", days);
    return 0;
}
